{
  "id": "tc_controller",
  "name": "Traffic Control (QoS)",
  "description": "Simulate network conditions and test Quality of Service using Linux Traffic Control (tc)",
  "icon": "tune",
  "version": "1.0.0",
  "author": "NetScout-Go",
  "license": "MIT",
  "parameters": [
    {
      "id": "interface",
      "name": "Network Interface",
      "description": "Network interface to apply traffic control rules",
      "type": "string",
      "required": true,
      "default": "eth0",
      "canIterate": true
    },
    {
      "id": "mode",
      "name": "Mode",
      "description": "Traffic control mode",
      "type": "select",
      "required": true,
      "default": "bandwidth",
      "options": [
        {
          "value": "bandwidth",
          "label": "Bandwidth Limit"
        },
        {
          "value": "latency",
          "label": "Latency"
        },
        {
          "value": "packet_loss",
          "label": "Packet Loss"
        },
        {
          "value": "jitter",
          "label": "Jitter"
        },
        {
          "value": "combination",
          "label": "Combined Conditions"
        },
        {
          "value": "reset",
          "label": "Reset All Rules"
        }
      ],
      "canIterate": true
    },
    {
      "id": "bandwidth",
      "name": "Bandwidth Limit (Kbps)",
      "description": "Maximum bandwidth in Kbps (1000 = 1Mbps)",
      "type": "number",
      "required": false,
      "default": 1000,
      "min": 32,
      "max": 1000000,
      "step": 32,
      "condition": "mode=='bandwidth' || mode=='combination'",
      "canIterate": true
    },
    {
      "id": "latency",
      "name": "Latency (ms)",
      "description": "Added latency in milliseconds",
      "type": "number",
      "required": false,
      "default": 100,
      "min": 1,
      "max": 5000,
      "step": 1,
      "condition": "mode=='latency' || mode=='combination'",
      "canIterate": true
    },
    {
      "id": "packet_loss",
      "name": "Packet Loss (%)",
      "description": "Percentage of packets to drop",
      "type": "number",
      "required": false,
      "default": 1,
      "min": 0.1,
      "max": 100,
      "step": 0.1,
      "condition": "mode=='packet_loss' || mode=='combination'",
      "canIterate": true
    },
    {
      "id": "jitter",
      "name": "Jitter (ms)",
      "description": "Latency variation in milliseconds",
      "type": "number",
      "required": false,
      "default": 20,
      "min": 1,
      "max": 1000,
      "step": 1,
      "condition": "mode=='jitter' || mode=='combination'",
      "canIterate": true
    },
    {
      "id": "duration",
      "name": "Duration (seconds)",
      "description": "Duration to apply traffic control rules (0 for indefinite)",
      "type": "number",
      "required": false,
      "default": 60,
      "min": 0,
      "max": 3600,
      "step": 1,
      "condition": "mode!='reset'",
      "canIterate": true
    },
    {
      "id": "continueToIterate",
      "name": "Continue to iterate?",
      "description": "Enable repeated execution of this plugin with the same parameters",
      "type": "boolean",
      "required": false,
      "default": false,
      "canIterate": true
    },
    {
      "id": "iterationDelay",
      "name": "Iteration Delay (ms)",
      "description": "Delay between iterations in milliseconds",
      "type": "number",
      "required": false,
      "default": 5000,
      "min": 1000,
      "max": 60000,
      "step": 1000,
      "canIterate": true
    },
    {
      "id": "maxIterations",
      "name": "Max Iterations",
      "description": "Maximum number of iterations (0 = unlimited)",
      "type": "number",
      "required": false,
      "default": 0,
      "min": 0,
      "max": 100,
      "canIterate": true
    }
  ]
}
